# é‡å­é›»è·¯æ·±åº¦å•é¡Œè©³ç´°è§£é‡‹

## ğŸš¨ å•é¡ŒèƒŒæ™¯ï¼šç‚ºä»€éº¼æœƒå‡ºç¾ã€Œè™›å‡çš„å–®ä¸€é–€ã€ï¼Ÿ

### åŸå§‹å•é¡Œï¼šQiskit çš„è‡ªå‹•å„ªåŒ–æ©Ÿåˆ¶

ç•¶æˆ‘å€‘ä½¿ç”¨ Qiskit çš„é å»ºé‡å­é›»è·¯ï¼ˆå¦‚ `ZZFeatureMap` æˆ– `PauliFeatureMap`ï¼‰æ™‚ï¼ŒQiskit æœƒè‡ªå‹•å°‡è¤‡é›œçš„é‡å­é›»è·¯**å£“ç¸®æˆå–®ä¸€çš„è¤‡åˆé–€**ï¼Œé€™æ˜¯ç‚ºäº†å„ªåŒ–é›»è·¯è¡¨ç¤ºå’Œæ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨ã€‚

## ğŸ“Š å•é¡Œæ¼”ç¤º

### ä¿®æ”¹å‰çš„ç¨‹å¼ç¢¼ï¼š
```python
# ä½¿ç”¨ ZZFeatureMap
self.feature_map = ZZFeatureMap(
    feature_dimension=5,
    reps=3,  # è¨­å®š3å±¤é‡è¤‡
    entanglement='full'
)

print(self.feature_map.depth())  # è¼¸å‡º: 1 (åªæœ‰1å±¤ï¼)
print(len(self.feature_map.data))  # è¼¸å‡º: 1 (åªæœ‰1å€‹é–€ï¼)
```

### é›»è·¯åœ–é¡¯ç¤ºï¼š
```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
q_0: â”¤0                                        â”œ
     â”‚                                         â”‚
q_1: â”¤1                                        â”œ
     â”‚                                         â”‚
q_2: â”¤2 ZZFeatureMap(x[0],x[1],x[2],x[3],x[4]) â”œ  â† é€™æ˜¯å–®ä¸€è¤‡åˆé–€ï¼
     â”‚                                         â”‚
q_3: â”¤3                                        â”œ
     â”‚                                         â”‚
q_4: â”¤4                                        â”œ
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” ç‚ºä»€éº¼é€™æ˜¯å€‹å•é¡Œï¼Ÿ

### 1. **é‡å­æ ¸å‡½æ•¸ç„¡æ³•æœ‰æ•ˆè¨ˆç®—**
- `FidelityQuantumKernel` éœ€è¦è¨ˆç®—å…©å€‹é‡å­æ…‹ä¹‹é–“çš„ä¿çœŸåº¦
- å–®ä¸€è¤‡åˆé–€ç„¡æ³•æä¾›è¶³å¤ çš„é‡å­ç‰¹å¾µè¡¨é”èƒ½åŠ›
- é‡å­æ ¸çŸ©é™£è®Šå¾—å¹¾ä¹æ²’æœ‰å·®ç•°ï¼Œå°è‡´åˆ†é¡æ€§èƒ½æ¥µå·®

### 2. **æ²’æœ‰çœŸæ­£çš„é‡å­è¨ˆç®—**
- å–®ä¸€é–€ = æ²’æœ‰é‡å­ç³¾çºçš„å±¤æ¬¡çµæ§‹
- æ²’æœ‰é‡å­å¹²æ¶‰æ•ˆæ‡‰
- å¤±å»é‡å­è¨ˆç®—çš„æ ¸å¿ƒå„ªå‹¢

### 3. **åƒæ•¸åŒ–å•é¡Œ**
- é›–ç„¶æœ‰5å€‹åƒæ•¸ï¼Œä½†å®ƒå€‘è¢«åŒ…è£åœ¨å–®ä¸€é–€ä¸­
- é‡å­æ ¸ç„¡æ³•æœ‰æ•ˆåˆ©ç”¨é€™äº›åƒæ•¸çš„çµ„åˆ

## âœ… è§£æ±ºæ–¹æ¡ˆï¼šæ‰‹å‹•æ§‹å»ºçœŸå¯¦é‡å­é›»è·¯

### ä¿®æ”¹å¾Œçš„ç¨‹å¼ç¢¼ï¼š
```python
def _setup_quantum_circuits(self):
    # å˜—è©¦ PauliFeatureMap
    self.feature_map = PauliFeatureMap(...)
    
    # å¦‚æœæ·±åº¦é‚„æ˜¯1ï¼Œæ‰‹å‹•æ§‹å»ºé›»è·¯
    if circuit_depth <= 1:
        from qiskit import QuantumCircuit
        from qiskit.circuit import Parameter
        
        # æ‰‹å‹•æ§‹å»ºçœŸå¯¦çš„å¤šå±¤é›»è·¯
        manual_circuit = QuantumCircuit(self.feature_dimension)
        params = [Parameter(f'x_{i}') for i in range(self.feature_dimension)]
        
        # Layer 1: å–®é‡å­æ¯”ç‰¹æ—‹è½‰é–€
        for i in range(self.feature_dimension):
            manual_circuit.ry(params[i], i)      # Yè»¸æ—‹è½‰
            manual_circuit.rz(params[i], i)      # Zè»¸æ—‹è½‰
        
        # Layer 2: ç³¾çºå±¤
        for i in range(self.feature_dimension - 1):
            manual_circuit.cx(i, i + 1)          # CNOTé–€å‰µå»ºç³¾çº
            manual_circuit.rz(params[i] * params[i + 1], i + 1)  # åƒæ•¸åŒ–ç³¾çº
        
        # Layer 3: æ›´å¤šæ—‹è½‰
        for i in range(self.feature_dimension):
            manual_circuit.ry(params[i] * 0.5, i)
        
        self.feature_map = manual_circuit
```

### æ‰‹å‹•æ§‹å»ºçš„é›»è·¯åœ–ï¼š
```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
q_0: â”¤ RY(x_0) â”œâ”¤ RZ(x_0) â”œâ”€â”€â– â”€â”€â”¤ X â”œâ”¤ RZ(x_0*x_1)    â”œâ”¤ RY(x_0/2) â”œ
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”Œâ”€â”´â”€â”â””â”€â”¬â”€â”˜â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
q_1: â”¤ RY(x_1) â”œâ”¤ RZ(x_1) â”œâ”¤ X â”œâ”€â”€â– â”€â”€â”¤ RZ(x_1*x_2)    â”œâ”¤ RY(x_1/2) â”œ
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â””â”€â”€â”€â”˜â”Œâ”€â”´â”€â”â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
q_2: â”¤ RY(x_2) â”œâ”¤ RZ(x_2) â”œâ”€â”€â”€â”€â”€â”¤ X â”œâ”¤ RZ(x_2*x_3)    â”œâ”¤ RY(x_2/2) â”œ
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â””â”€â”¬â”€â”˜â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
q_3: â”¤ RY(x_3) â”œâ”¤ RZ(x_3) â”œâ”€â”€â”€â”€â”€â”€â”€â– â”€â”€â”¤ RZ(x_3*x_4)    â”œâ”¤ RY(x_3/2) â”œ
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
q_4: â”¤ RY(x_4) â”œâ”¤ RZ(x_4) â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ RZ(x_4)        â”œâ”¤ RY(x_4/2) â”œ
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š å°æ¯”çµæœ

### ä¿®æ”¹å‰ï¼ˆè™›å‡å–®ä¸€é–€ï¼‰ï¼š
```
ğŸ”¹ é›»è·¯æ·±åº¦: 1
ğŸ”¹ åƒæ•¸æ•¸é‡: 5
ğŸ”¹ é‡å­é–€æ•¸é‡: 1
ğŸ”¹ æº–ç¢ºç‡: 35%
```

### ä¿®æ”¹å¾Œï¼ˆçœŸå¯¦å¤šå±¤é›»è·¯ï¼‰ï¼š
```
ğŸ”¹ é›»è·¯æ·±åº¦: 11
ğŸ”¹ åƒæ•¸æ•¸é‡: 5
ğŸ”¹ é‡å­é–€æ•¸é‡: 23
ğŸ”¹ æº–ç¢ºç‡: 80%
```

## ğŸ¯ ç‚ºä»€éº¼æ‰‹å‹•é›»è·¯æœ‰æ•ˆï¼Ÿ

### 1. **çœŸæ­£çš„é‡å­ç³¾çº**
- CNOTé–€åœ¨é‡å­æ¯”ç‰¹ä¹‹é–“å‰µå»ºç³¾çº
- `manual_circuit.cx(i, i + 1)` å‰µå»ºç›¸é„°é‡å­æ¯”ç‰¹çš„ç³¾çº

### 2. **å±¤æ¬¡åŒ–çš„ç‰¹å¾µæ˜ å°„**
- **Layer 1**: å°‡è¼¸å…¥ç‰¹å¾µç·¨ç¢¼åˆ°å–®å€‹é‡å­æ¯”ç‰¹
- **Layer 2**: é€šéç³¾çºé–€æ··åˆä¸åŒç‰¹å¾µçš„è³‡è¨Š
- **Layer 3**: é€²ä¸€æ­¥è™•ç†æ··åˆå¾Œçš„é‡å­æ…‹

### 3. **åƒæ•¸åŒ–ç³¾çº**
- `manual_circuit.rz(params[i] * params[i + 1], i + 1)`
- ä¸åŒç‰¹å¾µä¹‹é–“çš„éç·šæ€§ç›¸äº’ä½œç”¨
- é€™æ­£æ˜¯é‡å­æ ¸å‡½æ•¸éœ€è¦çš„è¤‡é›œç‰¹å¾µé—œä¿‚

### 4. **é‡å­æ ¸å‡½æ•¸èƒ½æœ‰æ•ˆè¨ˆç®—**
- å¤šå±¤é›»è·¯å‰µå»ºçš„é‡å­æ…‹æœ‰è±å¯Œçš„çµæ§‹
- `FidelityQuantumKernel` èƒ½è¨ˆç®—å‡ºæœ‰æ„ç¾©çš„ç›¸ä¼¼åº¦
- æ ¸çŸ©é™£å…·æœ‰è¶³å¤ çš„å·®ç•°æ€§ä¾†æ”¯æ´åˆ†é¡

## ğŸ”¬ æ·±å…¥ç†è§£ï¼šé‡å­æ…‹çš„è®ŠåŒ–

### å–®ä¸€é–€çš„é‡å­æ…‹ï¼š
```
|ÏˆâŸ© = U_simple(xâ‚€,xâ‚,xâ‚‚,xâ‚ƒ,xâ‚„)|00000âŸ©
```
- é‡å­æ…‹çµæ§‹ç°¡å–®ï¼Œè³‡è¨Šæœ‰é™

### å¤šå±¤é›»è·¯çš„é‡å­æ…‹ï¼š
```
|ÏˆâŸ© = Uâ‚ƒ Â· Uâ‚‚ Â· Uâ‚(xâ‚€,xâ‚,xâ‚‚,xâ‚ƒ,xâ‚„)|00000âŸ©
```
å…¶ä¸­ï¼š
- Uâ‚: ç‰¹å¾µç·¨ç¢¼å±¤
- Uâ‚‚: ç³¾çºæ··åˆå±¤  
- Uâ‚ƒ: ç‰¹å¾µå¢å¼·å±¤

é€™å‰µå»ºäº†ä¸€å€‹é«˜åº¦ç³¾çºã€è³‡è¨Šè±å¯Œçš„é‡å­æ…‹ï¼Œèƒ½å¤ æ•æ‰ç‰¹å¾µä¹‹é–“çš„è¤‡é›œéç·šæ€§é—œä¿‚ã€‚

## ğŸ‰ ç¸½çµ

**ã€Œè™›å‡çš„å–®ä¸€é–€ã€å•é¡Œ**æ˜¯é‡å­æ©Ÿå™¨å­¸ç¿’ä¸­çš„å¸¸è¦‹é™·é˜±ï¼š

1. **è¡¨é¢ä¸Š**ï¼šè¨­å®šäº†è¤‡é›œçš„é‡å­é›»è·¯åƒæ•¸ï¼ˆreps=3, entanglement='full'ï¼‰
2. **å¯¦éš›ä¸Š**ï¼šQiskitå„ªåŒ–æˆç„¡æ•ˆçš„å–®ä¸€è¤‡åˆé–€
3. **çµæœ**ï¼šé‡å­è¨ˆç®—å„ªå‹¢å®Œå…¨æ¶ˆå¤±ï¼Œæ€§èƒ½æ¥µå·®

**è§£æ±ºæ–¹æ¡ˆ**ï¼šæ‰‹å‹•æ§‹å»ºçœŸå¯¦çš„å¤šå±¤é‡å­é›»è·¯ï¼Œç¢ºä¿ï¼š
- çœŸæ­£çš„é‡å­ç³¾çº
- å±¤æ¬¡åŒ–çš„ç‰¹å¾µè™•ç†
- é‡å­æ ¸å‡½æ•¸èƒ½æœ‰æ•ˆé‹ä½œ

é€™å°±æ˜¯ç‚ºä»€éº¼æº–ç¢ºç‡å¾35%è·³èºåˆ°80%çš„æ ¹æœ¬åŸå› ï¼