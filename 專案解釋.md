# 藥物分類機器學習專案解釋

## 專案簡介

這是一個使用機器學習技術進行藥物分類的專案。專案的核心目標是根據病患的健康指標，預測最適合的藥物類型。整個專案以 Jupyter Notebook 的形式實作，並比較了六種不同的機器學習演算法的效能。

## 資料集說明

### 資料來源
- **檔案名稱**: `drug200.csv`
- **資料筆數**: 200 筆病患記錄
- **資料特徵**: 5 個輸入特徵 + 1 個目標變數

### 特徵變數詳細說明

| 變數名稱 | 說明 | 資料類型 | 範例值 |
|---------|------|----------|--------|
| **Age** | 病患年齡 | 數值型 | 23, 47, 28... |
| **Sex** | 性別 | 類別型 | F (女性), M (男性) |
| **BP** | 血壓水平 | 類別型 | HIGH (高), NORMAL (正常), LOW (低) |
| **Cholesterol** | 膽固醇水平 | 類別型 | HIGH (高), NORMAL (正常) |
| **Na_to_K** | 血液中鈉鉀比例 | 數值型 | 25.355, 13.093... |
| **Drug** | 藥物類型 (目標變數) | 類別型 | DrugY, drugX, drugA, drugB, drugC |

## 專案架構與流程

### 1. 資料探索階段 (EDA)
- **基本統計分析**: 檢查資料的基本統計資訊、遺漏值、資料型態
- **視覺化分析**: 使用長條圖、散點圖等圖表探索各變數的分布特性
- **相關性分析**: 分析不同變數間的關聯性

### 2. 資料前處理階段
- **特徵分箱 (Binning)**:
  - 年齡分為 7 個年齡組: <20歲, 20多歲, 30多歲, 40多歲, 50多歲, 60多歲, >60歲
  - 鈉鉀比例分為 4 個區間: <10, 10-20, 20-30, >30
- **獨熱編碼 (One-hot Encoding)**: 將類別變數轉換為數值形式
- **資料平衡處理 (SMOTE)**: 使用 SMOTE 技術處理類別不平衡問題

### 3. 機器學習模型比較

專案實作了六種不同的機器學習演算法：

| 演算法 | 準確率 | 特點 |
|--------|--------|------|
| **邏輯迴歸** | 85.00% | 線性分類器，解釋性強 |
| **決策樹 (調整後)** | 83.33% | 規則明確，易於理解 |
| **隨機森林** | 83.33% | 集成學習，穩定性高 |
| **類別貝氏** | 81.67% | 適合類別特徵 |
| **支援向量機** | 80.00% | 適合高維資料 |
| **高斯貝氏** | 71.67% | 假設特徵服從高斯分布 |

### 4. 模型評估與驗證
- **準確率分析**: 計算各模型的預測準確率
- **混淆矩陣**: 詳細分析各類別的預測表現
- **分類報告**: 包含精確度、召回率、F1分數等指標

## 技術實作細節

### 程式語言與函式庫
```python
# 主要使用的 Python 函式庫
import pandas as pd           # 資料處理
import numpy as np            # 數值計算
import matplotlib.pyplot as plt  # 資料視覺化
import seaborn as sns         # 進階視覺化
from sklearn import *         # 機器學習演算法
from imblearn.over_sampling import SMOTE  # 資料平衡
```

### 資料分割策略
- **訓練集**: 70% (140 筆資料)
- **測試集**: 30% (60 筆資料)
- **隨機種子**: 固定為 0，確保結果可重現

## 專案特色與亮點

### 1. 完整的機器學習工作流程
從資料探索、前處理、模型訓練到評估，展現完整的 ML Pipeline

### 2. 多演算法比較分析
系統性地比較六種不同演算法，提供客觀的性能評估

### 3. 資料不平衡處理
使用 SMOTE 技術解決 DrugY 類別數量過多的問題

### 4. 豐富的視覺化分析
使用多種圖表類型深入分析資料特性和模型表現

### 5. 實用性導向
最終輸出 CSV 格式的預測結果，便於實際應用

## 結果與結論

### 最佳模型表現
**邏輯迴歸** 達到了 85% 的準確率，成為本專案中表現最佳的模型。這個結果顯示：
- 藥物分類問題具有一定的線性可分特性
- 經過適當的資料前處理，簡單的模型也能達到良好效果
- 大部分模型都能達到 80% 以上的準確率，顯示特徵選擇合適

### 實際應用價值
這個模型可以協助醫療人員：
- 根據病患基本健康指標快速篩選合適藥物
- 提供輔助決策支援
- 減少藥物選擇的試錯成本

## 未來改進方向

1. **資料擴充**: 增加更多病患資料以提升模型穩定性
2. **特徵工程**: 探索更多有效的特徵組合和轉換方式
3. **深度學習**: 嘗試神經網路等更複雜的模型
4. **交叉驗證**: 使用 k-fold 交叉驗證提升評估可靠性
5. **超參數調整**: 更系統性地優化各模型的超參數